-- test pattern match constraints on indexes

let q = [1,2,3].
let q@1:%integer = 0.

assert( q == [1,0,3] ).

