load "util".
load "io".

let s = Stream([1,2,3,4]).

while not (s @eof()) do
  println s @get().
  s @next().
end

s @map(lambda with x do return 2*x).

s @rewind().
while not (s @eof()) do
  println s @get().
  s @next().
end

println s @__string__().
